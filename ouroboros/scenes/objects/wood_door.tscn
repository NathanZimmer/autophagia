[gd_scene load_steps=8 format=3 uid="uid://b7cw7rgnj4764"]

[ext_resource type="PackedScene" uid="uid://dry32rev1hrgm" path="res://ouroboros/models/wood_door.glb" id="1_47den"]
[ext_resource type="Script" path="res://ouroboros/scripts/gameplay/door_opener.gd" id="1_ykov1"]
[ext_resource type="Material" uid="uid://b8sfnlcdp6u80" path="res://ouroboros/textures/light_wood_1_tri.tres" id="2_pg3n6"]
[ext_resource type="Material" uid="uid://cf5vkeyy15f2b" path="res://ouroboros/textures/light_metal_tri.tres" id="3_4ifbq"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_2h6ku"]
points = PackedVector3Array(0, -0.9935, -0.0875, 0, -0.9935, -6.85453e-07, 0, 1.09398, -0.0875, 1.37499, -0.9935, -0.0875, 1.37499, -0.9935, -6.85453e-07, 0, 1.09398, -6.85453e-07, 1.37499, 1.09398, -0.0875, 1.37499, 1.09398, -6.85453e-07)

[sub_resource type="Animation" id="Animation_biade"]
resource_name = "handle_jiggle"
length = 0.8
tracks/0/type = "position_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("wood_door/Handle")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 1.2275, 0, -0.04375, 0.1, 1, 1.225, 0.001, -0.042, 0.2, 1, 1.2275, 0, -0.04375, 0.3, 1, 1.229, -0.001, -0.045, 0.4, 1, 1.2275, 0, -0.04375, 0.5, 1, 1.225, 0.001, -0.042, 0.6, 1, 1.2275, 0, -0.04375, 0.7, 1, 1.229, -0.001, -0.045, 0.8, 1, 1.2275, 0, -0.04375)

[sub_resource type="AnimationLibrary" id="AnimationLibrary_7pkf5"]
_data = {
"handle_jiggle": SubResource("Animation_biade")
}

[node name="WoodDoor" type="Node3D"]

[node name="InteractableBody" type="AnimatableBody3D" parent="." groups=["interactable"]]
collision_layer = 2
collision_mask = 3
script = ExtResource("1_ykov1")

[node name="CollisionShape3D" type="CollisionShape3D" parent="InteractableBody"]
process_mode = 4
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.000250024, 0)
shape = SubResource("ConvexPolygonShape3D_2h6ku")

[node name="HandleAnimationPlayer" type="AnimationPlayer" parent="InteractableBody"]
libraries = {
"": SubResource("AnimationLibrary_7pkf5")
}
speed_scale = 1.5

[node name="wood_door" parent="InteractableBody" instance=ExtResource("1_47den")]

[node name="Door" parent="InteractableBody/wood_door" index="0"]
material_override = ExtResource("2_pg3n6")
gi_mode = 0

[node name="Hinge" parent="InteractableBody/wood_door" index="1"]
material_override = ExtResource("3_4ifbq")
gi_mode = 0

[node name="Hinge_001" parent="InteractableBody/wood_door" index="2"]
material_override = ExtResource("3_4ifbq")
gi_mode = 0

[node name="Handle" parent="InteractableBody/wood_door" index="3"]
material_override = ExtResource("3_4ifbq")
gi_mode = 0

[editable path="InteractableBody/wood_door"]
